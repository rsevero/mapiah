<?xml version="1.0" encoding="UTF-8"?>
<component type="desktop-application">
  <id>io.github.rsevero.mapiah</id>

  <name>Mapiah</name>

  <summary>User friendly multiplatform Therion map editor</summary>

  <developer id="io.github.rsevero">
    <name>Mapiah developers</name>
  </developer>

  <url type="vcs-browser">https://github.com/rsevero/mapiah</url>
  <url type="homepage">https://github.com/rsevero/mapiah</url>
  <url type="bugtracker">https://github.com/rsevero/mapiah/issues</url>

  <metadata_license>MIT</metadata_license>

  <project_license>GPL-3.0-or-later</project_license>

  <content_rating type="oars-1.0"></content_rating>

  <description>
    <p>
      User-friendly multiplatform interface to the powerful Therion cave mapping software.
    </p>
    <p>
      As an intended side effect, it aims to completely replace xTherion, the venerable but ostensibly ancient Therion graphical interface.
    </p>
    <p>
      Also create a thriving community of users and developers to make it as powerful and user friendly as such community needs and creates.
    </p>
  </description>

  <branding>
    <color type="primary" scheme_preference="light">#f9f871</color>
    <color type="primary" scheme_preference="dark">#4c8077</color>
  </branding>

  <launchable type="desktop-id">io.github.rsevero.mapiah.desktop</launchable>

  <screenshots>
    <screenshot type="default">
      <image>https://github.com/rsevero/mapiah/raw/main/auxiliary/screenshots/mapiah-initial.png</image>
      <caption>Initial window</caption>
    </screenshot>

    <screenshot>
      <image>https://github.com/rsevero/mapiah/raw/main/auxiliary/screenshots/mapiah-single_scrap.png</image>
      <caption>Editing a single scrap TH2 file</caption>
    </screenshot>

    <screenshot>
      <image>https://github.com/rsevero/mapiah/raw/main/auxiliary/screenshots/mapiah-options.png</image>
      <caption>Options dialog</caption>
    </screenshot>
  </screenshots>

  <releases>
    <release version="0.2.35" date="2026-02-13">
      <url type="details">https://github.com/rsevero/mapiah/releases/tag/v0.2.35</url>
      <description>
        <p>0.2.35 - 2026-02-13 - The <em>Chiquita Bacana&#39;s daughter</em> release</p>

        <p>New features:</p>
        <ul>
          <li>Create zoom to selection window: keyboard shortcut 5. [requested by Edvard]</li>
          <li>Help dialogs closable by pressing Escape key.</li>
          <li>Creating Flathub specific new release check.</li>
        </ul>

        <p>Fixed bugs:</p>
        <ul>
          <li>Options window been shown when there is no element selected. [reported by dankez, issue <a href="https://github.com/rsevero/mapiah/issues/12">#12</a>]</li>
          <li>Flatpak version not saving users language choice. [reported by Daniel Bean]</li>
          <li>Deleting a line segment of a line with only one line segment would throw.</li>
          <li>Element types in multiple clicked elements dialog box are not translated. [reported by Daniel Bean]</li>
        </ul>

        <p>Infrastructure maintenance:</p>
        <ul>
          <li>Create issue template for bug reports.</li>
          <li>Create issue template for feature requests.</li>
          <li>Created internal settings storage with SharedPreferencesWithCache package.</li>
          <li>Replace application id com.example.mapiah -&gt; io.github.rsevero.mapiah.</li>
          <li>Flatpak metainfo file not receiving duplicated &lt;release&gt; tags for same version.</li>
          <li>Migrating all settings from TOML to SharedPreferencesWithCache.</li>
        </ul>
      </description>
    </release>
    <release version="0.2.34" date="2026-02-05">
      <url type="details">https://github.com/rsevero/mapiah/releases/tag/v0.2.34</url>
      <description>
        <p>0.2.34 - 2026-02-05 - The <em>Viola Caipira</em> release</p>

        <p>New features:</p>
        <ul>
          <li>Exceptions should be shown to the user as an AlertDialog box with copyable text. [requested by Nicolas]</li>
          <li>Mapiah should check and present a notice when there is a new version available. [requested by Wal]</li>
          <li>When zooming with mouse wheel and there is no element selected, use the cursor position as zoom center. [requested by Edvard]</li>
          <li>When editing a line, make straight and Bézier curve line segments visually different.</li>
        </ul>
        <p>Fixed bugs:</p>
        <ul>
          <li>Portuguese edit window help page not being presented. [reported by Edvard]</li>
          <li>Changelog URL not opening when user clicked on it at "About" dialog box.</li>
          <li>Linux/flatpak version does not open URLs for not using GIO portal and not having shared network permission.</li>
          <li>When creating a new line with one single Bézier line segment, the line is not selectable by direct click. [reported by Edvard]</li>
          <li>Windows: language selection is not kept after app restart. [reported by Edvard]</li>
          <li>No app icon in Windows version.</li>
          <li>Add a publisher for Mapiah Windows installer.</li>
          <li>Changing the line segment type of several line segments of different types wouldn't change any.</li>
          <li>Trying to move a control point immediately after transforming a straight line segment to Bézier curve throws and the control point does not move.</li>
          <li>Ctrl+K keyboard shortcut (Show keyboard shortcuts) not working at TH2 file edit page. [reported by Edvard]</li>
          <li>During new line creation, on Bézier line segments, the control points are presented but are not usable. [reported by Edvard]</li>
          <li>When creating a line, any line segment, if dragged to become a Bézier, leaves a shadow red straight line segment behind during drag.</li>
          <li>Orientation/LSize arrows presented on all lines when editing a line, not only on the line being edited.</li>
          <li>Removing spurious &lt;a&gt;&lt;/a&gt; tags from portuguese help page.</li>
        </ul>
        <p>Infrastructure maintenance:</p>
        <ul>
          <li>flutter upgrade to 3.38.9.</li>
          <li>flutter pub upgrade --major-versions</li>
          <li>Migrated thFileWidgetKey to getTHFileWidgetGlobalKey() at TH2FileEditController.</li>
          <li>Created constants to set the help page names.</li>
        </ul>
      </description>
    </release>
    <release version="0.2.33" date="2026-01-30">
      <url type="details">https://github.com/rsevero/mapiah/releases/tag/v0.2.33</url>
      <description>
        <p>0.2.33 - 2026-01-30 - The <em>o ano um</em> release</p>
        <p>Fixed bugs:</p>
        <ul>
          <li>URLs at &quot;About&quot; dialog box should be clickable.</li>
        </ul>
        <p>Infrastructure maintenance:</p>
        <ul>
          <li>Flutter pub upgrade --major-versions.</li>
          <li>Separating Appimage and flatpak build workflows.</li>
          <li>Moving flatpak build to Ubuntu 24.04 base system from previous 22.04.</li>
          <li>Script to set flutter version on release build files.</li>
          <li>Moved flatpak creation/publishing to Flathub build system (amd64 and aarch64).</li>
          <li>Removing flatpak build from GitHub actions.</li>
        </ul>
      </description>
    </release>
    <release version="0.2.32" date="2026-01-27">
      <url type="details">https://github.com/rsevero/mapiah/releases/tag/v0.2.32</url>
      <description>
        <p>0.2.32 - 2026-01-25 - The UK Cave Survey Group meeting release</p>
        <p>New features:</p>
        <ul>
          <li>Portuguese install instructions mentioning update procedure.</li>
          <li>English install instructions.</li>
          <li>Right click overlay windows dragging support.</li>
          <li>Portuguese help pages.</li>
          <li>Alt+click to select non active scrap.</li>
          <li>Error text on alert dialog boxes should be selectable. [Wookey request]</li>
        </ul>
        <p>Fixed bugs:</p>
        <ul>
          <li>When hidden one of the background images in cave.th2 (demo.zip) the other image moves.</li>
          <li>When dragging (right click) sketch, unselected sketchs are not dragged.</li>
        </ul>
      </description>
    </release>

    <release version="0.2.5" date="2025-06-21" />
  </releases>

</component>
